<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zest Forgot Password</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" href="img/favicon.png">
    <style>
        .otp-input {
            width: 3rem;
            height: 3rem;
            text-align: center;
            font-size: 1.5rem;
            border-radius: 1rem;
            border: 2px solid #ccc;
            margin: 0.5rem;
        }

        .otp-container {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
        }
    </style>
</head>

<body>
    <section class="bg-gray-100 min-h-screen flex items-center justify-center px-4 sm:px-8 lg:px-16">
        <!-- OTP Form Container -->
        <div class="bg-gray-200 flex flex-col p-6 rounded-2xl shadow-lg w-full sm:w-[90%] md:w-[70%] lg:w-[50%] xl:w-[40%]">
            <!-- Form -->
            <div class="flex flex-col justify-center items-center w-full">
                <h2 class="font-bold text-2xl text-center mt-8">Enter OTP</h2>
                <p class="text-center mt-2">Enter OTP sent to your email to reset password.</p>
                <!-- OTP Form -->
                <form id="otpForm" action="checkOtp" method="post" class="flex flex-col gap-4 w-full mt-6">
                    <div class="otp-container">
                        <input type="text" class="otp-input" maxlength="1" id="otp1" oninput="moveFocus(this, 'otp2')" required aria-label="OTP digit 1">
                        <input type="text" class="otp-input" maxlength="1" id="otp2" oninput="moveFocus(this, 'otp3')" required aria-label="OTP digit 2">
                        <input type="text" class="otp-input" maxlength="1" id="otp3" oninput="moveFocus(this, 'otp4')" required aria-label="OTP digit 3">
                        <input type="text" class="otp-input" maxlength="1" id="otp4" oninput="combineOtp()" required aria-label="OTP digit 4">
                    </div>
                    <input type="hidden" name="otpcode" id="otpcode">
                    <button type="submit" class="bg-[#e65252] text-white py-3 rounded-2xl mt-4 w-40 mx-auto">
                        Submit OTP
                    </button>
                </form>
                <!-- OTP Form End -->
            </div>
        </div>
    </section>

    <script>
        function moveFocus(current, nextId) {
            if (current.value.length === current.maxLength) {
                const nextInput = document.getElementById(nextId);
                if (nextInput) nextInput.focus();
            }
        }

        function combineOtp() {
            // Combine OTP values into the hidden input field
            let otp = '';
            for (let i = 1; i <= 4; i++) {
                const value = document.getElementById('otp' + i).value;
                otp += value;
            }
            document.getElementById('otpcode').value = otp;
        }

        // Automatically combine OTP before form submission
        document.getElementById('otpForm').addEventListener('submit', function () {
            combineOtp();
        });
    </script>
</body>

</html>
